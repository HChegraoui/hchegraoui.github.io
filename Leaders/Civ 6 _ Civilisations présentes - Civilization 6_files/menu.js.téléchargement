var $closeMenu=jQuery('<span class="submenu-close">Fermer le menu [X]</span>');

function mainMenu(obj)
{
	var submenucontent = "";
	/*
	 * On cherche si il y a un sous-menu ouvert et on le ferme
	 */
	var $active=jQuery('.sub-menu .submenu-container.active');
	if($active)
	{
		var $closeMenuActive=$active.find('.submenu-close');
		//$active.find('.submenu').slideUp();
		$closeMenuActive.detach();

	}
	
	if(!obj.hasClass('active'))
	{
		var submenu=obj.find('.submenu:first');
		
		submenu.append($closeMenu);
		$closeMenu.bind('click',function(){
			$("#container-spec .submenu").toggle("slide");
		});
		//submenu.slideDown();
		submenu.show();
		submenucontent = submenu.html();

		//obj.addClass('active');
	}
	if($("#container-spec .submenu").attr("class")=="submenu active"){
		//$("#container-spec .submenu").toggle("slide");
		//$("#container-spec .submenu").animate({left:"-1000px"}, 300);
		$("#container-spec .submenu").removeClass("active");
	} else {
		$("#container-spec .submenu").html(submenucontent);
		$("#container-spec .submenu .submenu-close").bind("click",function(){
			//$("#container-spec .submenu").toggle("slide");
			//$("#container-spec .submenu").animate({left:"-1000px"}, 300);
			$("#container-spec .submenu").removeClass("active");
		});
		$("#container-spec .submenu").addClass("active");
		//$("#container-spec .submenu").toggle("slide");
		//$("#container-spec .submenu").animate({left:"459px"}, 300);
	}

	$active.removeClass('active');
}